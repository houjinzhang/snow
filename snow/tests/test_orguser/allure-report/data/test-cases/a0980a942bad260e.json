{"uid":"a0980a942bad260e","name":"测试添加部门功能流程","fullName":"tests.test_orguser.test_orgstr#test_orgstr","historyId":"e9baf4e6d0a6f38e7d9f8312a0491d30","time":{"start":1748938080563,"stop":1748938083628,"duration":3065},"description":"测试添加部门功能流程","descriptionHtml":"<p>测试添加部门功能流程</p>\n","status":"failed","statusMessage":"AssertionError: 步骤失败：部门存在，添加失败。\nassert False","statusTrace":"login = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>\n\n    @allure.story(\"添加部门\")\n    @allure.title(\"测试添加部门功能流程\")\n    @allure.description(\"测试添加部门功能流程\")\n    def test_orgstr(login):\n        global generated_department_name  # \uD83D\uDC48 声明为全局变量\n        driver = login\n        department_name = generate_random_department_name()\n    \n        with allure.step(\"步骤1：进入组织架构菜单\"):\n            click_organization_menu(driver)\n    \n        with allure.step(\"步骤2：点击添加部门按钮\"):\n            click_add_department_button(driver)\n    \n        with allure.step(f\"步骤3：输入部门名称：{department_name}\"):\n            input_department_name(driver, department_name)\n    \n        with allure.step(\"步骤4：点击确定按钮\"):\n            click_confirm_button(driver)\n    \n        with allure.step(\"步骤5：检查部门添加结果\"):\n            success, message = find_xpath(driver, department_name)\n>           assert success, message\nE           AssertionError: 步骤失败：部门存在，添加失败。\nE           assert False\n\ntest_orgstr.py:82: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1748938067552,"stop":1748938067681,"duration":129},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"driver","time":{"start":1748938075616,"stop":1748938077759,"duration":2143},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"login","time":{"start":1748938077759,"stop":1748938080562,"duration":2803},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"login","time":{"start":1748938094343,"stop":1748938096815,"duration":2472},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"description":"测试添加部门功能流程","status":"failed","statusMessage":"AssertionError: 步骤失败：部门存在，添加失败。\nassert False","statusTrace":"login = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>\n\n    @allure.story(\"添加部门\")\n    @allure.title(\"测试添加部门功能流程\")\n    @allure.description(\"测试添加部门功能流程\")\n    def test_orgstr(login):\n        global generated_department_name  # \uD83D\uDC48 声明为全局变量\n        driver = login\n        department_name = generate_random_department_name()\n    \n        with allure.step(\"步骤1：进入组织架构菜单\"):\n            click_organization_menu(driver)\n    \n        with allure.step(\"步骤2：点击添加部门按钮\"):\n            click_add_department_button(driver)\n    \n        with allure.step(f\"步骤3：输入部门名称：{department_name}\"):\n            input_department_name(driver, department_name)\n    \n        with allure.step(\"步骤4：点击确定按钮\"):\n            click_confirm_button(driver)\n    \n        with allure.step(\"步骤5：检查部门添加结果\"):\n            success, message = find_xpath(driver, department_name)\n>           assert success, message\nE           AssertionError: 步骤失败：部门存在，添加失败。\nE           assert False\n\ntest_orgstr.py:82: AssertionError","steps":[{"name":"步骤1：进入组织架构菜单","time":{"start":1748938080563,"stop":1748938082472,"duration":1909},"status":"passed","steps":[{"name":"点击组织架构菜单","time":{"start":1748938080564,"stop":1748938082471,"duration":1907},"status":"passed","steps":[{"name":"点击组织架构菜单","time":{"start":1748938080564,"stop":1748938082471,"duration":1907},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},{"name":"步骤2：点击添加部门按钮","time":{"start":1748938082472,"stop":1748938082654,"duration":182},"status":"passed","steps":[{"name":"点击加号按钮新建部门","time":{"start":1748938082472,"stop":1748938082654,"duration":182},"status":"passed","steps":[{"name":"点击添加部门按钮","time":{"start":1748938082472,"stop":1748938082654,"duration":182},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},{"name":"步骤3：输入部门名称：web测试部门48","time":{"start":1748938082654,"stop":1748938082913,"duration":259},"status":"passed","steps":[{"name":"输入部门名称：'web测试部门48'","time":{"start":1748938082654,"stop":1748938082913,"duration":259},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"},{"name":"department_name","value":"'web测试部门48'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"步骤4：点击确定按钮","time":{"start":1748938082913,"stop":1748938083097,"duration":184},"status":"passed","steps":[{"name":"点击确定按钮保存部门","time":{"start":1748938082913,"stop":1748938083097,"duration":184},"status":"passed","steps":[{"name":"点击确定按钮","time":{"start":1748938082913,"stop":1748938083096,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},{"name":"步骤5：检查部门添加结果","time":{"start":1748938083097,"stop":1748938083627,"duration":530},"status":"failed","statusMessage":"AssertionError: 步骤失败：部门存在，添加失败。\nassert False\n","statusTrace":"  File \"D:\\WebTest\\snow\\tests\\test_orguser\\test_orgstr.py\", line 82, in test_orgstr\n    assert success, message\n","steps":[{"name":"定位到xpath判断添加失败","time":{"start":1748938083097,"stop":1748938083627,"duration":530},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"driver","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"},{"name":"department_name","value":"'web测试部门48'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":13,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1748938083809,"stop":1748938086055,"duration":2246},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"story","value":"添加部门"},{"name":"parentSuite","value":"tests.test_orguser"},{"name":"suite","value":"test_orgstr"},{"name":"host","value":"DESKTOP-DMNLNRR"},{"name":"thread","value":"10700-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_orguser.test_orgstr"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"a0980a942bad260e.json","parameterValues":[]}