{"name": "测试添加部门功能流程", "status": "failed", "statusDetails": {"message": "AssertionError: 步骤失败：部门存在，添加失败。\nassert False", "trace": "login = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>\n\n    @allure.story(\"添加部门\")\n    @allure.title(\"测试添加部门功能流程\")\n    @allure.description(\"测试添加部门功能流程\")\n    def test_orgstr(login):\n        global generated_department_name  # 👈 声明为全局变量\n        driver = login\n        department_name = generate_random_department_name()\n    \n        with allure.step(\"步骤1：进入组织架构菜单\"):\n            click_organization_menu(driver)\n    \n        with allure.step(\"步骤2：点击添加部门按钮\"):\n            click_add_department_button(driver)\n    \n        with allure.step(f\"步骤3：输入部门名称：{department_name}\"):\n            input_department_name(driver, department_name)\n    \n        with allure.step(\"步骤4：点击确定按钮\"):\n            click_confirm_button(driver)\n    \n        with allure.step(\"步骤5：检查部门添加结果\"):\n            success, message = find_xpath(driver, department_name)\n>           assert success, message\nE           AssertionError: 步骤失败：部门存在，添加失败。\nE           assert False\n\ntest_orgstr.py:82: AssertionError"}, "description": "测试添加部门功能流程", "steps": [{"name": "步骤1：进入组织架构菜单", "status": "passed", "steps": [{"name": "点击组织架构菜单", "status": "passed", "steps": [{"name": "点击组织架构菜单", "status": "passed", "start": 1748938080564, "stop": 1748938082471}], "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}], "start": 1748938080564, "stop": 1748938082471}], "start": 1748938080563, "stop": 1748938082472}, {"name": "步骤2：点击添加部门按钮", "status": "passed", "steps": [{"name": "点击加号按钮新建部门", "status": "passed", "steps": [{"name": "点击添加部门按钮", "status": "passed", "start": 1748938082472, "stop": 1748938082654}], "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}], "start": 1748938082472, "stop": 1748938082654}], "start": 1748938082472, "stop": 1748938082654}, {"name": "步骤3：输入部门名称：web测试部门48", "status": "passed", "steps": [{"name": "输入部门名称：'web测试部门48'", "status": "passed", "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}, {"name": "department_name", "value": "'web测试部门48'"}], "start": 1748938082654, "stop": 1748938082913}], "start": 1748938082654, "stop": 1748938082913}, {"name": "步骤4：点击确定按钮", "status": "passed", "steps": [{"name": "点击确定按钮保存部门", "status": "passed", "steps": [{"name": "点击确定按钮", "status": "passed", "start": 1748938082913, "stop": 1748938083096}], "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}], "start": 1748938082913, "stop": 1748938083097}], "start": 1748938082913, "stop": 1748938083097}, {"name": "步骤5：检查部门添加结果", "status": "failed", "statusDetails": {"message": "AssertionError: 步骤失败：部门存在，添加失败。\nassert False\n", "trace": "  File \"D:\\WebTest\\snow\\tests\\test_orguser\\test_orgstr.py\", line 82, in test_orgstr\n    assert success, message\n"}, "steps": [{"name": "定位到xpath判断添加失败", "status": "passed", "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7a5019cd50e050a2b16a7dc759f78810\")>"}, {"name": "department_name", "value": "'web测试部门48'"}], "start": 1748938083097, "stop": 1748938083627}], "start": 1748938083097, "stop": 1748938083627}], "start": 1748938080563, "stop": 1748938083628, "uuid": "c8fbd3c1-1498-43ba-a41b-5c4b0f905913", "historyId": "e9baf4e6d0a6f38e7d9f8312a0491d30", "testCaseId": "e9baf4e6d0a6f38e7d9f8312a0491d30", "fullName": "tests.test_orguser.test_orgstr#test_orgstr", "labels": [{"name": "story", "value": "添加部门"}, {"name": "parentSuite", "value": "tests.test_orguser"}, {"name": "suite", "value": "test_orgstr"}, {"name": "host", "value": "DESKTOP-DMNLNRR"}, {"name": "thread", "value": "10700-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_orguser.test_orgstr"}]}